<!DOCTYPE html>
<html>
<head>
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
</head>
<body>
<div id="example"></div>
<script type="text/babel">
    <!--function Clock(props) {-->
        <!--return (-->
            <!--<div>-->
                <!--<h1>Hello, world!</h1>-->
                <!--<h2>It is {props.date.toLocaleTimeString()}.</h2>-->
            <!--</div>-->
        <!--);-->
    <!--}-->

    <!--function tick() {-->
        <!--ReactDOM.render(-->
            <!--<Clock date={new Date()} />,-->
            <!--document.getElementById('root')-->
        <!--);-->
    <!--}-->
    <!--setInterval(tick,1000)-->

//用类组件来实现clock
    class Clock1 extends React.component{
        constructor(props){
            super(props);
            this.state={
                date:new Date()
              };
            }
        //挂载生命周期
         componentDiaMount(){
             this.timerID=setInterval(
                 ()=>this.tick(),1000
            )
         }
         //卸载生命周期
         componentWillUnmount(){
                clearInterval(this.timerID);
         }
         tick(){
            this.setState({
                date:new Date()
         });
        }
        render(){
            <div>
                <h1>Hello, world!</h1>
                <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
            </div>
        }
    }
    ReactDOM.render(
        <Clock1 />,
        document.getElementById('root')
    )


</script>
<div id="root"></div>
</body>
</html>
